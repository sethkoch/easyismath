angular.module("easyismath",["auth0.lock","angular-jwt","ui.router"]).run(["$rootScope","authService","lock","authManager",function(e,t,a,r){e.authService=t,t.registerAuthenticationListener(),r.checkAuthOnRefresh(),a.interceptHash()}]);
angular.module("easyismath").controller("MainController",["$rootScope","authService","userdata","$state",function(e,t,r,i){this.authService=t;var o=this;this.authService.getProfileDeferred().then(function(e){o.profile=e}).then(function(){r.getData(o.profile.user_id)}),this.level=function(t){i.go(e.userStuff.grade1)}}]);
angular.module("easyismath").config(["$stateProvider","lockProvider","$urlRouterProvider","jwtOptionsProvider",function(e,t,o,n){e.state("home",{url:"/home",templateUrl:"../../templates/main/index.html",controller:"MainController as main",css:"../../content/css.css"}).state("Penguin Troubles",{url:"/penguintroubles",templateUrl:"../../templates/missions/grade1/1penguintroubles.html",controller:"PenguinTroublesController as penguin"}),t.init({clientID:"PPAP5SR3NyoW8oXgSg9fI3DZ38lCcA3o",domain:"easyismath.auth0.com"}),n.config({tokenGetter:function(){return localStorage.getItem("id_token")}}),o.otherwise("/home")}]);
angular.module("easyismath").controller("PenguinTroublesController",["$sce",function(t){this.counter=0,this.answer="",this.penguinsSaved=0,this.data=["<p>Will you save the penguins?</p>","<p>A big monster wants to eat them all!</p>","<p>Quick, how many penguins are there?</p>","<p>Some caves are big, some caves are small.</p>","<p>Can you help the penguins?</p>","<p>Tell the penguins how many can go in each cave!</p>","<p>Time to train!</p>"],this.images=["<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1babypenguin.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1monster.png' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1fourpenguins.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1onepenguin.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1onepenguinpainter.png' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1oneswimmingpenguin.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1threekingpenguins.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1threepenguins.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1twelvepenguins.png' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1twopenguinbrothers.jpg' class='img-responsive' style='max-height:460px' />","<img src='https://d37rhhh8kt1fi0.cloudfront.net/img/1-1twozoopenguins.jpg' class='img-responsive' style='max-height:460px' />"],this.questionAnswers=[4,1,1,1,3,3,12,2,2],this.buttonText=["Yes!","Ahhhhhh","Answer"],this.currentButtonText=t.trustAsHtml(this.buttonText[this.counter]),this.currentText=t.trustAsHtml(this.data[this.counter]),this.currentImage=t.trustAsHtml(this.images[this.counter]),this.lastPictureNumber=0,this.pictureBefore=0,this.clicked=function(){var s=this.images.length,e=0;return this.counter++,this.counter<2?(this.currentButtonText=t.trustAsHtml(this.buttonText[this.counter]),this.currentText=t.trustAsHtml(this.data[this.counter]),void(this.currentImage=t.trustAsHtml(this.images[this.counter]))):(this.counter>1&&(this.currentButtonText=t.trustAsHtml("Answer"),this.currentText=t.trustAsHtml("Quick, how many penguins are there?"),this.getImage=function(){var t=function(){return Math.floor(Math.random()*(s-2))};for(e=t();e===this.lastPictureNumber;)e=t();return this.lastPictureNumber=e,this.images.slice(2)[e]},this.currentImage=t.trustAsHtml(this.getImage()),Number(this.answer)===this.questionAnswers[this.pictureBefore]&&(this.penguinsSaved++,this.answer="")),this.pictureBefore=this.lastPictureNumber,void(8===this.penguinsSaved&&(this.currentText=t.trustAsHtml("You did it, you saved the penguins!"),this.currentImage=t.trustAsHtml(this.images[0]),this.currentButtonText=t.trustAsHtml("Your Reward"))))}}]);
!function(){"use strict";function e(e,t,o,n){function r(){return c.promise}function i(){t.show()}function a(){localStorage.removeItem("id_token"),localStorage.removeItem("profile"),n.userStuff="",o.unauthenticate()}function l(){t.on("authenticated",function(e){t.getProfile(e.idToken,function(e,t){return e?console.log(e):(localStorage.setItem("profile",JSON.stringify(t)),void c.resolve(t))}),localStorage.setItem("id_token",e.idToken),o.authenticate()})}var u=JSON.parse(localStorage.getItem("profile"))||null,c=e.defer();return u&&c.resolve(u),{login:i,logout:a,registerAuthenticationListener:l,getProfileDeferred:r}}angular.module("easyismath").service("authService",e),e.$inject=["$q","lock","authManager","$rootScope"]}();
angular.module("easyismath").factory("tools",["$state","$rootScope",function(o,t){}]);
angular.module("easyismath").factory("userdata",["$http","$rootScope",function(t,a){var n=function(n){t.post("api/data",{id:n}).then(function(t){a.userStuff=t.data})};return{getData:n}}]);