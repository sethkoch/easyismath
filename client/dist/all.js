angular.module("easyismath",["auth0.lock","angular-jwt","ui.router"]).run(["$rootScope","authService","lock","authManager",function(e,t,a,r){e.authService=t,t.registerAuthenticationListener(),r.checkAuthOnRefresh(),a.interceptHash()}]);
angular.module("easyismath").controller("MainController",["$rootScope","authService","userdata",function(e,t,r){this.authService=t;var i=this;this.profile,this.authService.getProfileDeferred().then(function(e){i.profile=e}).then(function(){r.getData(i.profile.user_id)})}]);

angular.module("easyismath").config(["$stateProvider","lockProvider","$urlRouterProvider","jwtOptionsProvider",function(t,s,o,e){t.state("home",{url:"/home",templateUrl:"../../templates/main/index.html",controller:"MainController as main",css:"../../content/css.css"}).state("missions",{url:"/missions",templateUrl:"../../templates/missions/missions.html",controller:"MissionsController as mission",css:"../../content/css.css"}),s.init({clientID:"PPAP5SR3NyoW8oXgSg9fI3DZ38lCcA3o",domain:"easyismath.auth0.com"}),e.config({tokenGetter:function(){return localStorage.getItem("id_token")}}),o.otherwise("/home")}]);
!function(){"use strict";function e(e,t,o){function n(){return c.promise}function r(){t.show()}function i(){localStorage.removeItem("id_token"),localStorage.removeItem("profile"),o.unauthenticate()}function a(){t.on("authenticated",function(e){t.getProfile(e.idToken,function(e,t){return e?console.log(e):(localStorage.setItem("profile",JSON.stringify(t)),void c.resolve(t))}),localStorage.setItem("id_token",e.idToken),o.authenticate()})}var l=JSON.parse(localStorage.getItem("profile"))||null,c=e.defer();return l&&c.resolve(l),{login:r,logout:i,registerAuthenticationListener:a,getProfileDeferred:n}}angular.module("easyismath").service("authService",e),e.$inject=["$q","lock","authManager"]}();
angular.module("easyismath").factory("userdata",["$http","$rootScope",function(t,a){var n=function(n){t.post("api/data",{id:n}).then(function(t){a.userStuff=t.data})};return{getData:n}}]);